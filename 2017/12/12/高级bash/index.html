<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" >
    <title>
        
        高级bash · Dom Blog
        
    </title>
    <link rel="icon" href= http://p0bl99g4r.bkt.clouddn.com/ti.JPG>
    <!-- TODO: 在font-face加载完毕后改变字体  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js"></script>
    <!-- 提前加载place holder  -->
    <style type="text/css">
        @font-face {
            font-family: 'Oswald-Regular';
            src: url(/font/Oswald-Regular.ttf);
        }
    </style>
    <style type="text/css">
        .site-intro-placeholder {
            position: absolute;
            z-index: -2;
            top: 0;
            left: 0px;
            width: calc(100% + 300px);
            height: 100%;
            background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
            background-position: center center;
            transform: translate3d(-226px, 0, 0);
            animation: gradient-move 2.5s ease-out 0s 1;
        }
        @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>
    <link rel="stylesheet" href = /css/style.css?v=20171020 />
    <script src="//cdn.staticfile.org/jquery/3.2.1/jquery.min.js" defer></script>
    
    <script src="/scripts/main.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
</head>
    
        <body class="post-body">
    
    
<header class="header">

    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >DomBro Studio</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">高级bash</a>
            </div>
    </div>
    
    <a class="home-link" href=/>DomBro Studio</a>
</header>
    <div class="wrapper">
        <div class="site-intro">
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-img" style="background-image: url(http://p0bl99g4r.bkt.clouddn.com/dog1.JPG)"></div>
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            高级bash
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <!-- 文章页标签  -->
            
                <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-href = Linux>Linux</a>
    
</div>
            
            <div class="post-intro-meta">
                <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                <span class="post-intro-time">2017/12/12</span>
            </div>
        
    </div>
</div>
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <script>
            var browser = {
                    versions: function () {
                        var u = window.navigator.userAgent;
                        return {
                            userAgent: u,
                            trident: u.indexOf('Trident') > -1, //IE内核
                            presto: u.indexOf('Presto') > -1, //opera内核
                            webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
                            gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
                            mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
                            ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
                            android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
                            iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
                            iPad: u.indexOf('iPad') > -1, //是否为iPad
                            webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
                            weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
                            uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
                        };
                    }()
                }

            function fontLoaded(){
                console.log('font loaded');
                if (document.getElementsByClassName('site-intro-meta')) {
                    document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
                    document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
                    var postIntroTags = document.getElementsByClassName('post-intro-tags')[0],
                        postIntroMeat = document.getElementsByClassName('post-intro-meta')[0];
                        if (postIntroTags) {
                            postIntroTags.classList.add('post-fade-in');
                        }
                        if (postIntroMeat) {
                            postIntroMeat.classList.add('post-fade-in');
                        }
                    }
                }
                
            console.log("userAgent:" + browser.versions.userAgent);
            // UC不支持跨域，所以直接显示
            if (browser.versions.uc) {
                console.log("UCBrowser");
                fontLoaded();
            } else {
                WebFont.load({
                    custom: {
                        families: ['Oswald-Regular']
                    },
                    loading: function () {  //所有字体开始加载
                        // console.log('loading');
                    },
                    active: function () {  //所有字体已渲染
                        fontLoaded();
                    },
                    inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
                        console.log('inactive: timeout');
                        fontLoaded();
                    },
                    timeout: 7000 // Set the timeout to two seconds
                });
            }
        </script>
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#1">1. 数据流重定向</a><ul>
<li><a href="#1.1">1.1 what</a><ul>
<li><a href="#1.1.1">1.1.1 标准输出与错误输出</a></li>
<li><a href="#1.1.2">1.1.2 数据流重定向功能</a></li>
<li><a href="#1.1.3">1.1.3 标准输入</a></li>
</ul>
</li>
<li><a href="#1.2">1.2 why</a> </li>
</ul>
</li>
<li><a href="#2">2. 命令执行的判断依据 ;、&amp;&amp;、||</a><ul>
<li><a href="#2.1">2.1 ;</a></li>
<li><a href="#2.2">2.2 &amp;&amp;、||</a></li>
</ul>
</li>
<li><a href="#3">3. 管道命令</a><ul>
<li><a href="#3.1">3.1 what</a></li>
<li><a href="#3.2">3.2 一些管道命令</a><ul>
<li><a href="#3.2.1">3.2.1 选取命令：cut、grep</a></li>
<li><a href="#3.2.2">3.2.2 排序命令: sort、wc、uniq</a></li>
<li><a href="#3.2.3">3.2.3 双向重定向：tee</a></li>
<li><a href="#3.2.5">3.2.4 字符转换命令: tr、col、join、paste、expand</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1">1. 数据流重定向</h2>


<p>重定向，英文 redirct。这个词程序员经常能遇到，大概意思就是给一个东西重新定位。而数据流重定向，大概就是将数据传导到其他地方去。</p>
<h3 id="1.1">1.1 what</h3>

<p>想知道啥叫数据流重定向，就要先了解一下命令执行结果。默认情况下，我们执行一个命令无论正确与否，命令执行结果(如果有的话)信息都会被打印到屏幕上。</p>
<h4>1.1.1 标准输出 &amp; 标准错误输出</h4>


<p>上面说到，默认情况下一个命令的执行结果都会被输出到屏幕上。<strong>输出的结果无非就是两种情况：命令回传的正确信息和命令回传的错误信息。这两种情况就分别对应 标准输出(standard output,简称stdout) 和 标准错误输出(standard error output,简称stderr)</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat catfile &lt;== 使用 cat 将文件内容显示</span><br><span class="line">hello                        &lt;== 文件内容被打印出来，stdout</span><br><span class="line">just test for stin</span><br><span class="line">dombro@ubuntu:~$ cat cat11</span><br><span class="line">cat: cat11: No such file or directory  &lt;== 没有这个文件 stderr</span><br></pre></td></tr></table></figure>
<p>也就是说当你命令执行成功时输出的信息就是 stdout ，反之命令执行失败输出的信息就是 stderr 。<strong>不管正确与错误的数据都输出到屏幕上时很混乱的，如何将这两者分开就是数据流重定向的功能</strong>。</p>
<h4 id="1.1.2">1.1.2 数据流重定向功能</h4>

<p>数据流重定向可以将 stdout 和 stderr 分别传送到其他文件和设备中而不只是将其输出到屏幕上。而传送所需要的特殊字符如下</p>
<blockquote>
<p>1.标准输入(stdin) : 代码为 0，使用 &lt; 或 &lt;&lt; <br><br>2.标准输出(stdout) : 代码为 1，使用 &gt; 或 &gt;&gt; <br><br>3.标准错误输出(stderr) : 代码为 2，使用 2&gt; 或 2&gt;&gt;</p>
</blockquote>
<p>光说不练假把式，通过几个范例练习一下</p>
<ul>
<li>范例一：将系统根目录下(/) 各个文件信息记录到 ~/rootfile 中</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ll / &gt; ./rootfile &lt;== 神奇的是这是屏幕什么都不会输出</span><br><span class="line">dombro@ubuntu:~$ cat ./rootfile   &lt;== 使用 cat 查看一下，果然信息都写入了rootfile 中</span><br><span class="line">total 112</span><br><span class="line">drwxr-xr-x  25 root root  4096 Nov  5 09:47 ./</span><br><span class="line">drwxr-xr-x  25 root root  4096 Nov  5 09:47 ../</span><br><span class="line">...下面省略</span><br></pre></td></tr></table></figure>
<p>范例一中 ~/rootfile 的创建方式是：</p>
<blockquote>
<p>1.该文件若不存在系统自动将它创建<br><br>2.若文件已经存在，系统会先将这个文件清空，在将数据写入<br><br>3.综合上两点，若以 &gt; 输出到一个已存在的文件中，那这个文件就会被覆盖掉</p>
</blockquote>
<p><strong>如果想以累加的方式重定向，不删除旧数据，咋办？将 &gt; 改成 &gt;&gt; 就好了</strong>。上面说的标准输出代码为1,所以在 &gt; 和 &gt;&gt; 前面加上 数字1 ，1&gt;&gt;、1&gt;起到的效果是一样的。</p>
<p><strong>标准错误输出(stderr)的重定向和 stdout 使用方法是一样的，只不过标准错误输出的重定向字符为 2&gt; 和 2&gt;&gt;</strong>。</p>
<ul>
<li>范例二：利用一般用户账号使用 find 命令查找/home 下面是否有 .bashrc的文件存在</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ find /home -name .bashrc</span><br><span class="line">/home/dongbo/.bashrc &lt;== stdout </span><br><span class="line">find: ‘/home/dongbo/.cache’: Permission denied &lt;== stderr 这里是错误输出，很明显 dombro 这个用户没有 /home/dongbo 这个目录的读取权限</span><br><span class="line">/home/user2/.bashrc  &lt;== stdout </span><br><span class="line">/home/user1/.bashrc  &lt;== stdout </span><br><span class="line">/home/dombro/.bashrc &lt;== stdout</span><br></pre></td></tr></table></figure>
<p>这个时候你可以使用 stdout 重定向 <code>find /home -name .bashrc &gt; list</code> 正确的输出数据会被写入到 list 这个文件里，但错误的提示还是会在屏幕上。</p>
<ul>
<li>范例三：承接范例二，将 stdout 和 stderr 分别存到不同的文件中</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ find /home -name .bashrc &gt; list_right 2&gt; list_error &lt;== 屏幕不会显示任何信息， </span><br><span class="line">dombro@ubuntu:~$ ls -al list_right list_error </span><br><span class="line">-rw-rw-r-- 1 dombro dombro 51 Dec 12 10:42 list_error &lt;== stderr 的错误信息写入该文件</span><br><span class="line">-rw-rw-r-- 1 dombro dombro 82 Dec 12 10:42 list_right &lt;== stdout 的正确信息写入该文件</span><br></pre></td></tr></table></figure>
<ul>
<li>范例四：承接范例三，将错误数据丢弃，屏幕显示正确数据</li>
</ul>
<p>如果我不想使用文件保存 stderr 返回的错误信息，也不想让其在屏幕上显示 我们可以<strong>借助 /dev/null 这个设备 ，你可以把它想象成一个垃圾桶或者黑洞，他可以吃掉任何导向这个设备的信息</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ find /home -name .bashrc 2&gt; /dev/null </span><br><span class="line">/home/dongbo/.bashrc &lt;== 仅会显示 stdout </span><br><span class="line">/home/user2/.bashrc</span><br><span class="line">/home/user1/.bashrc</span><br><span class="line">/home/dombro/.bashrc</span><br></pre></td></tr></table></figure>
<p>使用这种写法是因为你提前知道会出现哪些 stderr 的错误输出。</p>
<ul>
<li>范例五：将命令的返回数据全部写入名为list_show的文件中</li>
</ul>
<p>我猜你肯定会这么写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ find /home -name .bashrc &gt; list_show 2&gt; list_show</span><br><span class="line">dombro@ubuntu:~$ cat list_show </span><br><span class="line">find: ‘/home/dongbo/home/user2/.bashrc</span><br><span class="line">/home/user1/.bashrc   &lt;== 有没有注意到正确和错误的顺序怪怪的</span><br><span class="line">/home/dombro/.bashrc</span><br><span class="line">...已经显示全部了...</span><br></pre></td></tr></table></figure>
<p><strong>这是一种错误的写法!</strong>虽然 list_show 这个文件会创建以及被写入，但是 stdout 和 stderr 可能会交替写入，数据可能会丢失。</p>
<p>正确的两种写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ find /home -name .bashrc &gt; list_show 2&gt;&amp;1 &lt;== 推荐写法，因为予以更加清晰</span><br><span class="line">dombro@ubuntu:~$ find /home -name .bashrc  &amp;&gt; list_show</span><br></pre></td></tr></table></figure>
<h4 id="1.1.3">1.1.3 标准输入</h4>


<p>说了标准输出与标准错误输出应该看一下 标准输入stdin 了。stdin 重定向字符为 &lt; 或 &lt;&lt; ，这两个字符可以将原本需要由键盘输入的数据改由文件内容来代替。</p>
<ul>
<li>范例六：利用 cat　命令创建一个文件的简单流程</li>
</ul>
<p>what ? cat 创建文件？当然可以</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat &gt; catfile</span><br><span class="line">testing </span><br><span class="line">cat file test</span><br><span class="line">&lt;== 这里按下 [ctrl] + d离开</span><br><span class="line"></span><br><span class="line">dombro@ubuntu:~$ cat catfile</span><br><span class="line">testing </span><br><span class="line">cat file test</span><br></pre></td></tr></table></figure>
<p>加入 &gt; 在 cat后，所以那个catfile会被主动创建，内容就是键盘上的输入。</p>
<ul>
<li>范例七：承接范例六，用 stdin 替代键盘输入已创建新文件简单流程</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat &gt; catfile2 &lt; catfile</span><br><span class="line">dombro@ubuntu:~$ ls -al catfile catfile2</span><br><span class="line">-rw-rw-r-- 1 dombro dombro 23 Dec 12 11:13 catfile</span><br><span class="line">-rw-rw-r-- 1 dombro dombro 23 Dec 12 11:20 catfile2</span><br></pre></td></tr></table></figure>
<p>这两个文件大小一模一样，就像是使用 cp 复制一样。</p>
<ul>
<li>范例八: stdin 的 &lt;&lt; </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat &gt; catfile &lt;&lt; &quot;end&quot;</span><br><span class="line">&gt; This is a test</span><br><span class="line">&gt; now stop</span><br><span class="line">&gt; end &lt;== 输入这个关键字，立刻结束不需要输入 [ctrl]+d</span><br><span class="line">dombro@ubuntu:~$ cat catfile</span><br><span class="line">This is a test</span><br><span class="line">now stop</span><br></pre></td></tr></table></figure>
<p>可以看到 &lt;&lt; 表示结束输入的意思，利用 &lt;&lt; 右侧的控制字符，我们可以终止一次输入，而不必使用 [ctrl]+d 来结束。</p>
<h3>1.2 why</h3>

<p>为什么要使用命令重定向呢？来说一说重定向的使用场景</p>
<blockquote>
<p>1.屏幕输出的信息很重要，而且我们需要将它存下来<br><br>2.后台执行中的程序，不希望他干扰屏幕上的正常输出结果是<br><br>3.一些系统的执行命令的执行结果，希望它可以存下来<br><br>4.一些执行命令的可能已知错误信息时，可以用 “2&gt;/dev/null”将它丢掉<br><br>5.错误信息与正确信息需要分别输出时</p>
</blockquote>
<h2 id="2">2. 命令执行的判断依据 ;、&amp;&amp;、||</h2>

<p>科技生产力的进步离不开一个字——“懒”。如果我希望一次性执行输入的很多命令。咋办？一种是通过 shell　script 脚本，另一种就是题目中的三种符号 ; &amp;&amp; ||。</p>
<h3 id="2.1">2.1 ;</h3>


<p>有时候我们希望可以一次执行多个命令，可以写成这样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd;cmd</span><br></pre></td></tr></table></figure>
<p>上述方法在执行第一个命令后会立即执行第二个命令。常用的是关机操作，通过连续的sync将内存缓存写入磁盘后，在关机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ sync;sync;shutdown -h now</span><br></pre></td></tr></table></figure>
<p>但是 ; 两端的命令并不能体现命令的相关性(联系)，即前一个命令的执行结果与后一个命令没啥关系，后一个命令都会执行。如果想达到通过前一个命令执行结果决定后一个命令是否执行，可以通过 &amp;&amp; 或 || 。</p>
<h3 id="2.2">2.2 &amp;&amp;、||</h3>

<p>看一下下面的表格</p>
<table>
<thead>
<tr>
<th>命令执行情况</th>
<th>说明      </th>
</tr>
</thead>
<tbody>
<tr>
<td> cmd1 &amp;&amp; cmd2</td>
<td>若 cmd1 执行完毕且正确执行($?=0),则开始执行cmd2;若 cmd1 执行完毕且错误执行($?!=0),则cmd2不执行</td>
</tr>
<tr>
<td> cmd1丨丨 cmd2</td>
<td>若 cmd1 执行完毕且正确执行($?=0)，则cmd2不执行; cmd1 执行完毕且错误执行($?!=0),则开始执行cmd2</td>
</tr>
</tbody>
</table>
<p>这两个字符挺考验逻辑的，但也挺好理解。</p>
<ul>
<li>范例九：用 ls 测试/tmp/testing 是否存在，若存在则显示 “exit”，若不存在则显示 “not exit”</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ls -al /tmp/testingn 2&gt;/dev/null  &amp;&amp; echo &quot;exit&quot; || echo &quot;not exit&quot;</span><br><span class="line">not exit</span><br></pre></td></tr></table></figure>
<p>我们知道命令的执行顺序是从左到右，范例九当第一个命令执行执行失败，则导致第二个命令执行失败，第三个命令就会执行成功。这是一个很重要的点，例如下面给出错误示范</p>
<p>错误示范</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ls -al /tmp/testingn 2&gt;/dev/null  || echo &quot;not exit&quot; &amp;&amp; echo &quot; exit&quot;  &lt;== 将两个信息都打印出来了</span><br><span class="line">not exit</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>当文件不存在时，第二个命令会执行，而第三个命令则根据第二个命令执行成功也会执行。</p>
<h2 id="3">3. 管道命令</h2>


<p>你用过 <code>ps -aux|grep xxx</code> 这个命令去查找进程吗？用过的话，恭喜你你已经接触过管道命令了。 </p>
<h3 id="3.1">3.1 what</h3>

<p>那么啥是管道命令呢？<strong>简单来说就是前一个命令的输出(stdout)，作为后一个命令的输入(stdin)，命令之间用 | 隔开</strong>。</p>
<ul>
<li>举个例子</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ls -al /etc | less</span><br></pre></td></tr></table></figure>
<p>如上，由于 /etc 路径下文件太多了，如果直接 ls 屏幕就会被塞满了不知道前面输出了什么，于是利用 less 命令来协助，这样 ls 命令输出的内容就能被less读取,并且利用less功能，可以前后翻动相关信息。很方便~</p>
<ul>
<li>了解一下 | </li>
</ul>
<p><strong>这个孤零零的命令 <code>|</code> 仅能处理经过前一个命令传来的正确信息,也就是 standard output 的信息，对于standard error并没有直接处理能力</strong></p>
<p><img src="http://p0bl99g4r.bkt.clouddn.com/Lin_pipe.jpg" alt=""></p>
<p><strong>在每个管道后接的第一个数据一定要是一个命令！而且这个命令一定要能够接受 standard input 数据才行，这样的命令才是管道命令</strong>。如 less、more、head、tail 等都是可以接受 stdin 的管道命令，而 ls、cp、mv等就不是管道命令了，因为他们并不会接收来自stdin的数据。</p>
<h3 id="3.2">3.2 一些管道命令</h3>



<h4 id="3.2.1">选取命令： cut,grep</h4> 


<p>选取命令就是将一段数据经过分析后，取出我们所需要的，或者经由分析关键字，取得我们所想要的那一行。不过，一般来说，选取的信息通常是针对 “行” 来分析，并不是整片信息分析。</p>
<ul>
<li>cut </li>
</ul>
<p>cut 切 的意思，没有错，这个命令可以将一段信息的某一段切出来，处理信息是以行为单位的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">cut(选项)(参数)</span><br><span class="line"></span><br><span class="line">选项:</span><br><span class="line"></span><br><span class="line">-c：仅显示行中指定范围的字符 &lt;== 用于排列整齐的信息</span><br><span class="line">-d：指定字段的分隔符，与 -f 一起使用 &lt;== 用于分割字符</span><br><span class="line">-f：一句 -d 的分割字符将一段信息切割成位数段，用 -f 取出第几段的意思</span><br></pre></td></tr></table></figure>
<p>范例一：将 PATH 变量取出，找出第五个路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ echo $PATH</span><br><span class="line">/usr/java/jdk1.8.0_144/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</span><br><span class="line"></span><br><span class="line">dombro@ubuntu:~$ echo $PATH |cut -d&apos;:&apos; -f 5</span><br><span class="line">/usr/bin</span><br></pre></td></tr></table></figure>
<p>如果想列出第3到第5段 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ echo $PATH |cut -d&apos;:&apos; -f 3,5</span><br><span class="line">/usr/local/bin:/usr/bin</span><br></pre></td></tr></table></figure>
<p>范例二：将 exoprt 输出的信息取得第12字符以后的所有字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ export</span><br><span class="line">declare -x CLASSPATH=&quot;.:/usr/java/jdk1.8.0_144/lib:/usr/java/jdk1.8.0_144/jre/lib&quot;</span><br><span class="line">declare -x CLUTTER_IM_MODULE=&quot;xim&quot;</span><br><span class="line">declare -x COMPIZ_CONFIG_PROFILE=&quot;ubuntu&quot;</span><br><span class="line">...省略...</span><br><span class="line"></span><br><span class="line">dombro@ubuntu:~$ export | cut -c 12-</span><br><span class="line">CLASSPATH=&quot;.:/usr/java/jdk1.8.0_144/lib:/usr/java/jdk1.8.0_144/jre/lib&quot;</span><br><span class="line">CLUTTER_IM_MODULE=&quot;xim&quot;</span><br><span class="line">COMPIZ_CONFIG_PROFILE=&quot;ubuntu&quot;</span><br></pre></td></tr></table></figure>
<p>如果想得到 第12-20 的字符，使用 cut -c 12-20 即可。</p>
<ul>
<li>grep </li>
</ul>
<p>这个命令其实很常见的，grep　实际上就是分析一行信息，若当中有我们需要的信息，就将该行拿出来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">grep [-acinv] [--color=auto] &apos;搜尋字串&apos; filename</span><br><span class="line">選項與參數：</span><br><span class="line">-a ：將 binary 檔案以 text 檔案的方式搜尋資料</span><br><span class="line">-c ：計算找到 &apos;搜尋字串&apos; 的次數</span><br><span class="line">-i ：忽略大小寫的不同，所以大小寫視為相同</span><br><span class="line">-n ：順便輸出行號</span><br><span class="line">-v ：反向選擇，亦即顯示出沒有 &apos;搜尋字串&apos; 內容的那一行！</span><br><span class="line">--color=auto ：可以將找到的關鍵字部分加上顏色的顯示喔！</span><br></pre></td></tr></table></figure>
<p>范例三：将 last 中，有出现 root 的那一行取出来</p>
<p>last 命令可以显示系统用户登录的姓名信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">dombro@ubuntu:~$ last | grep &apos;root&apos;</span><br></pre></td></tr></table></figure>
<p>范例四：将 last 中，没有出现 root 的行取出来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ last | grep -v &apos;root&apos;</span><br></pre></td></tr></table></figure>
<p>3.2.2 排序命令: sort、wc、uniq</p>
<ul>
<li>sort </li>
</ul>
<p>sort　是一个很有趣的命令，顾名思义，它可以帮助我们排序，还可以根据不同资料形态来排序！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sort [-fbMnrtuk] [file or stdin]</span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line">-f  ：忽略大小写的差异，例如 A 與 a 視为編碼相同；</span><br><span class="line">-b  ：忽略最前面的空白字元部分；</span><br><span class="line">-M  ：以月份的名字來排序，例如 JAN, DEC 等等的排序方法；</span><br><span class="line">-n  ：使用『純數字』進行排序(預設是以文字型態來排序的)；</span><br><span class="line">-r  ：反向排序；</span><br><span class="line">-u  ：就是 uniq ，相同的資料中，僅出現一行代表；</span><br><span class="line">-t  ：分隔符號，預設是用 [tab] 鍵來分隔；</span><br><span class="line">-k  ：以那個區間 (field) 來進行排序的意思</span><br></pre></td></tr></table></figure>
<p>范例一：对记录个人账号的 /etc/password 中的账号排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat /etc/passwd | sort </span><br><span class="line">_apt:x:105:65534::/nonexistent:/bin/false</span><br><span class="line">avahi-autoipd:x:110:119:Avahi autoip daemon,,,:/var/lib/avahi-autoipd:/bin/false</span><br><span class="line">backup:x:34:34:backup:/var/backups:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br></pre></td></tr></table></figure>
<p>可以看到，不加选项参数时，是以第一个字符来排序的</p>
<p>范例二：承接范例一，以第三个含后面字符来排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat /etc/passwd | sort -t&apos;:&apos; -k 3</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">dombro:x:1000:1000:ubuntu,,,:/home/dombro:/bin/bash</span><br><span class="line">systemd-timesync:x:100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false</span><br><span class="line">dongbo:x:1001:1002:,,,:/home/dongbo:/bin/bash</span><br><span class="line">user1:x:1002:1003::/home/user1:</span><br><span class="line">user2:x:1003:1004::/home/user2:</span><br></pre></td></tr></table></figure>
<p>注意第三个 <code>:</code> 后面是数字开始，所以当然会从 0 开始排序。如果单纯想要第三个栏位来处理则是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | sort -t&apos;:&apos; -k 3,3</span><br></pre></td></tr></table></figure>
<p>如果想以数字顺序排序则是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | sort -t&apos;:&apos; -k 3 -n &lt;== 加上 -n 选项即可</span><br></pre></td></tr></table></figure>
<ul>
<li>uniq </li>
</ul>
<p>如果使用 sort 排序完成，想要重复的资料仅列出一个就使用 uniq 这个命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uniq [-ic]</span><br><span class="line">選項與參數：</span><br><span class="line">-i  ：忽略大小寫字元的不同；</span><br><span class="line">-c  ：進行計數</span><br></pre></td></tr></table></figure>
<p>范例一：使用 last　将账号列出，进去出账号栏，进行排序后仅取出一位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">last | cut -d &apos; &apos; -f1 | sort | uniq</span><br></pre></td></tr></table></figure>
<p>范例二：承接范例一，列出每个用户登录的次数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">last | cut -d &apos; &apos; -f1 | sort | uniq -c &lt;== 使用 -c 选项列出行数即可</span><br></pre></td></tr></table></figure>
<ul>
<li>wc </li>
</ul>
<p>wc 命令可以帮助我们知道一个文件中有多少字，多少行，多少字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wc [-lwm]</span><br><span class="line">選項與參數：</span><br><span class="line">-l  ：仅列出行；</span><br><span class="line">-w  ：仅列出多少字(英文單字)；</span><br><span class="line">-m  ：多少字符；</span><br></pre></td></tr></table></figure>
<p>范例一：列出 /etc/passwd 有多少字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ cat /etc/passwd | wc</span><br><span class="line">     43   &lt;== 行   72 &lt;== 字数   2353 &lt;== 字符数</span><br></pre></td></tr></table></figure>
<p>范例二：如何以一行命令串取得这个月份登录系统的总人次</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ last | grep [a-zA-Z] | grep -v &apos;wtmp&apos;|wc -l</span><br></pre></td></tr></table></figure>
<p>首先你要知道 last 会输出空白行与wtmp字样在最后两行，这些不包含用户登录信息。于是：grep [a-zA-Z] 取出非空行，grep -v ‘wtmp’ 去掉 wtmp 那两行，在 wc -l 计算行数。</p>
<h4 id="3.2.3">3.2.3 双向重定向：tee</h4>

<p>双向重定向？天哪这又是啥？上面<a href="#1.1.1">重定向的部分</a> 说到 &gt; 会将数据流整个传送给文件或设备，因此除非我们去读取这个文件或设备，否则就无法继续利用这个数据流。<strong>往往有时需要在屏幕显示输出的数据，但还要保存数据流处理的过程，那该怎么办？就可以用到我们的双重重定向命令 tee</strong>。</p>
<ul>
<li>tee</li>
</ul>
<p>tee 会同时将数据流传送给屏幕和文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tee [-a] file</span><br><span class="line"></span><br><span class="line">选项：-a</span><br><span class="line">已累加的方式将数据加入file中</span><br></pre></td></tr></table></figure>
<ul>
<li>范例一 : 使用双重重定向例子</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ls -al | tee ls_file|grep newfile </span><br><span class="line">-rwxr-xr-x  1 dombro dombro    27 Aug 29 20:49 newfile</span><br><span class="line">dombro@ubuntu:~$ cat ls_file  &lt;== 查看一下</span><br><span class="line">total 184</span><br><span class="line">drwxr-xr-x 19 dombro dombro  4096 Dec 12 11:13 .</span><br><span class="line">drwxr-xr-x  6 root   root    4096 Nov 13 14:04 ..</span><br><span class="line">-rw-rwxr--  1 dombro dombro     0 Aug 27 10:38 at_example.txt</span><br><span class="line">-rw-------  1 dombro dombro 10455 Dec 12 14:03 .bash_history</span><br><span class="line">-rw-r--r--  1 dombro dombro   220 Aug 13 17:08 .bash_logout</span><br><span class="line">-rw-r--r--  1 dombro dombro  3771 Aug 13 17:08 .bashrc</span><br></pre></td></tr></table></figure>
<p>如果想已累加的方式将数据流存入文件 <code>tee -a file</code> 即可。<br><strong>tee 可以让 stdout 转存一份到文件内并将同样的数据继续送到屏幕去处理</strong>。这样除了可以让我们同时分析一份数据并记录下来之外，还可以作为处理一份数据的中间暂存盘记录。</p>
<h4 id="3.2.4">3.2.4 字符转换命令: tr、col、join、paste、expand</h4>

<p>下面介绍几个与字符转换相关的管道命令。</p>
<ul>
<li>tr </li>
</ul>
<p>tr 用来删除一段信息当中的文字，或者是进行文字信息的转换。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tr [-ds] SET1</span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line"></span><br><span class="line">-d : 删除信息中 SET1 这个字符串</span><br><span class="line">-s : 替换重复的字符</span><br></pre></td></tr></table></figure>
<p>范例一：将 ls 出的文件信息，全部变成大写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ls -al | tr [a-z] [A-Z]</span><br><span class="line">TOTAL 188</span><br><span class="line">DRWXR-XR-X 19 DOMBRO DOMBRO  4096 DEC 13 13:40 .</span><br><span class="line">DRWXR-XR-X  6 ROOT   ROOT    4096 NOV 13 14:04 ..</span><br><span class="line">-RW-RWXR--  1 DOMBRO DOMBRO     0 AUG 27 10:38 AT_EXAMPLE.TXT</span><br><span class="line">-RW-------  1 DOMBRO DOMBRO 10455 DEC 12 14:03 .BASH_HISTORY</span><br><span class="line">...下面省略...</span><br></pre></td></tr></table></figure>
<p>范例二：将 ls 出的文件信息中的空格去掉</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dombro@ubuntu:~$ ls -al | tr -d &apos; &apos;</span><br><span class="line">total188</span><br><span class="line">drwxr-xr-x19dombrodombro4096Dec1313:40.</span><br><span class="line">drwxr-xr-x6rootroot4096Nov1314:04..</span><br><span class="line">-rw-rwxr--1dombrodombro0Aug2710:38at_example.txt</span><br><span class="line">-rw-------1dombrodombro10455Dec1214:03.bash_history</span><br><span class="line">...下面省略...</span><br></pre></td></tr></table></figure>
<p>范例三：将 /etc/passwd 转存成 dos 断行到 /root/passwd 中，再将 ^M 符号删除<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@www ～]# cp /etc/passwd /root/passwd &amp;&amp; UNIX2dos /root/passwd</span><br><span class="line">[root@www ～]# file /etc/passwd /root/passwd</span><br><span class="line">/etc/passwd: ASCII text</span><br><span class="line">/root/passwd: ASCII text, with CRLF line terminators &lt;==就是 DOS 断行</span><br><span class="line">[root@www ～]# cat /root/passwd | tr -d &apos;\r&apos; &gt; /root/passwd.linux</span><br><span class="line"># 那个 \r 指的是 DOS 的断行字符，关于更多的字符，请参考 man tr</span><br><span class="line">[root@www ～]# ll /etc/passwd /root/passwd*</span><br><span class="line">-rw-r--r-- 1 root root 1986 Feb 6 17:55 /etc/passwd</span><br><span class="line">-rw-r--r-- 1 root root 2030 Feb 7 15:55 /root/passwd</span><br><span class="line">-rw-r--r-- 1 root root 1986 Feb 7 15:57 /root/passwd.linux</span><br><span class="line"># 处理过后，发现文件大小与原本的 /etc/passwd 就一致了</span><br></pre></td></tr></table></figure></p>
<ul>
<li>col </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">col [-xb]</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">-x : 将 tab 键转换成对等的空格键</span><br><span class="line">-b : 在文字内有反斜杠(/) ，仅保留反斜杠最后接的那个字符</span><br></pre></td></tr></table></figure>
<p>范例一：利用 cat -A 显示出所有特殊按键，最后以 col 将 [tab] 转成空白</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ～]# cat -A /etc/man.config &lt;==此时会看到很多 ^I 的符号，那就是 tab</span><br><span class="line">[root@www ～]# cat /etc/man.config | col -x | cat -A | more</span><br><span class="line">#如此一来，[tab] 按键会被替换成为空格键，输出就美观多了。</span><br></pre></td></tr></table></figure>
<p>范例二：将 col 的 man page 转存成为 /root/col.man 的纯文本文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@www ～]# man col &gt; /root/col.man</span><br><span class="line">[root@www ～]# vi /root/col.man</span><br><span class="line">COL（1） BSD General Commands Manual COL（1）</span><br><span class="line">N^HNA^HAM^HME^HE</span><br><span class="line">c^Hco^Hol^Hl - filter reverse line feeds from input</span><br><span class="line">S^HSY^HYN^HNO^HOP^HPS^HSI^HIS^HS</span><br><span class="line">c^Hco^Hol^Hl [-^H-b^Hbf^Hfp^Hpx^Hx] [-^H-l^Hl _^Hn_^Hu_^Hm]</span><br><span class="line"># 你没看错。由于 man page 内有些特殊按钮会用来作为类似特殊按键与颜色显示，</span><br><span class="line"># 所以这个文件内就会出现如上所示的一堆怪异字符（有 ^ 的）</span><br><span class="line">[root@www ～]# man col | col -b &gt; /root/col.man</span><br></pre></td></tr></table></figure>
<ul>
<li>join </li>
</ul>
<p>join 看字面上的意义（加入/参加）就可以知道，它是在处理两个文件之间的数据，而且，主要是将两个文件当中有相同数据的那一行加在一起。我们利用下面的简单例子来说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@www ～]# join [-ti12] file1 file2</span><br><span class="line">参数：</span><br><span class="line">-t ：join 默认以空格符分隔数据，并且对比“第一个字段”的数据，</span><br><span class="line">如果两个文件相同，则将两条数据连成一行，且第一个字段放在第一个；</span><br><span class="line">-i ：忽略大小写的差异；</span><br><span class="line">-1 ：这个是数字的 1 ，代表第一个文件要用哪个字段来分析的意思；</span><br><span class="line">-2 ：代表第二个文件要用哪个字段来分析的意思。</span><br></pre></td></tr></table></figure>
<ul>
<li>paste </li>
</ul>
<p>这个paste就要比join简单多了。相对于join必须要对比两个文件的数据相关性，paste就直接将两行贴在一起，且中间以[tab]键隔开而已。简单的使用方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@www ～]# paste [-d] file1 file2</span><br><span class="line">参数：</span><br><span class="line">-d ：后面可以接分隔字符，默认是以 [tab] 来分隔的。</span><br><span class="line">- ：如果 file 部分写成 - ，表示来自 standard input 的数据的意思。</span><br></pre></td></tr></table></figure>
<ul>
<li>expand</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">就是将[tab]按键转成空格键，可以这样做：</span><br><span class="line">[root@www ～]# expand [-t] file</span><br><span class="line">参数：</span><br><span class="line">-t ：后面可以接数字。一般来说，一个[tab]按键可以用 8 个空格键替换。</span><br></pre></td></tr></table></figure>

    </article>
    <!-- 前后页  -->
    <ul class="post-pager">
        
            <li class="next">
                <a href= "/2017/12/21/栈及栈的应用/" title= 栈及栈的应用 >
                    <span>Next Post</span>
                    <span>栈及栈的应用</span>
                </a>
            </li>
        
        
            <li class="previous">
                <a href= "/2017/12/11/浅谈token/" title= 浅谈token >
                    <span>Previous Post</span>
                    <span>浅谈token</span>
                </a>
            </li>
        
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
<div id="container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        // id: "高级bash", // 可选。默认为 location.href
        owner: 'DomBro96',
        repo: 'DomBro96.github.io',
        oauth: {
            client_id: '4a6fa6686f2dd417ed61',
            client_secret: 'cc1f043ee266bc750c481d6a24a98188a185e2eb',
        },
    })
    gitment.render('container')

</script>

    <!--PC版-->

    <!--PC版-->


    
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:460716809@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="https://github.com/DomBro96" class="iconfont-archer github" target="_blank" title="github"></a>
            
        
    
        
            
                <a href="https://twitter.com/Bro_Doom" class="iconfont-archer twitter" target="_blank" title="twitter"></a>
            
        
    
        
            
                <a href="https://www.instagram.com/dombro7277/" class="iconfont-archer instagram" target="_blank" title="instagram"></a>
            
        
    
        
            
                <a href="https://leetcode.com/dombro96/" class="iconfont-archer others" target="_blank" title="others"></a>
            
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">Theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
        <span id="busuanzi_container_site_pv">Welcome, No. <span id="busuanzi_value_site_pv"></span> visitor.
        </span>
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper">
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-number">1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1"><span class="toc-number">2.</span> <span class="toc-text">1. 数据流重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1.1"><span class="toc-number">2.1.</span> <span class="toc-text">1.1 what</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">2.1.1.</span> <span class="toc-text">1.1.1 标准输出 & 标准错误输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1.1.2"><span class="toc-number">2.1.2.</span> <span class="toc-text">1.1.2 数据流重定向功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1.1.3"><span class="toc-number">2.1.3.</span> <span class="toc-text">1.1.3 标准输入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.2.</span> <span class="toc-text">1.2 why</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2"><span class="toc-number">3.</span> <span class="toc-text">2. 命令执行的判断依据 ;、&&、||</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2.1"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 ;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2.2"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 &&、||</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3"><span class="toc-number">4.</span> <span class="toc-text">3. 管道命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3.1"><span class="toc-number">4.1.</span> <span class="toc-text">3.1 what</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3.2"><span class="toc-number">4.2.</span> <span class="toc-text">3.2 一些管道命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3.2.1"><span class="toc-number">4.2.1.</span> <span class="toc-text">选取命令： cut,grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3.2.3"><span class="toc-number">4.2.2.</span> <span class="toc-text">3.2.3 双向重定向：tee</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3.2.4"><span class="toc-number">4.2.3.</span> <span class="toc-text">3.2.4 字符转换命令: tr、col、join、paste、expand</span></a></li></ol></li></ol></li></ol>
    </div>
    
    <div class="back-top">&#xe639;</div>
    <div class="sidebar">
    <div class="sidebar-header sidebar-header-show-archive">
        <div class="sidebar-category">
            <span class="sidebar-archive-link"><span class="iconfont-archer">&#xe67d;</span>Archive</span>
            <span class="sidebar-tags-link"><span class="iconfont-archer">&#xe610;</span>Tag</span>
        </div>
    </div>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-archive">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-archive"> Total : 22 </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/26</span><a class="archive-post-title" href= "/2018/03/26/AVL树和红黑树/" >AVL树和红黑树</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/19</span><a class="archive-post-title" href= "/2018/03/19/几种基本排序/" >几种基本排序</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/11</span><a class="archive-post-title" href= "/2018/03/11/线程/" >线程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/26</span><a class="archive-post-title" href= "/2018/01/26/散列/" >散列</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2018/01/01/happy-new-year/" >别了，2017</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span><a class="archive-post-title" href= "/2017/12/29/二叉搜索树/" >二叉搜索树</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/21</span><a class="archive-post-title" href= "/2017/12/21/栈及栈的应用/" >栈及栈的应用</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/12</span><a class="archive-post-title" href= "/2017/12/12/高级bash/" >高级bash</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/Java工厂设计模式/" >Java工厂设计模式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/磁盘与Linux分区/" >磁盘与Linux分区</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/vim编辑器/" >vim编辑器</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/文件与文件系统的压缩与打包/" >文件与文件系统的压缩与打包</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/初识bash/" >初识bash</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/浅谈token/" >浅谈token</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/Linux文件与文件系统的打包/" >Linux文件与文件系统的打包</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/Java优雅的处理异常/" >Java优雅的处理异常</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span><a class="archive-post-title" href= "/2017/12/11/Linux的文件权限与目录配置/" >Linux的文件权限与目录配置</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/10</span><a class="archive-post-title" href= "/2017/12/10/文件系统管理/" >文件系统管理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/10</span><a class="archive-post-title" href= "/2017/12/10/Linux文件与目录管理/" >Linux文件与目录管理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/06</span><a class="archive-post-title" href= "/2017/12/06/动态规划-Floyed算法/" >动态规划-Floyed算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/04</span><a class="archive-post-title" href= "/2017/12/04/堆排序-HeapSort/" >堆排序-HeapSort</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> Invalid date </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">Invalid date</span><a class="archive-post-title" href= "/2017/12/01/hello-world/" >世界你好</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name"><a href= "#">设计模式</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">JavaSE</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">Linux</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">数据结构 Data Structures</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">hello world</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">casual writing</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">算法algorithm</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">JavaWeb</a></span>
    
    </div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #888; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: false
    tags: true</pre>
    </div> 
    <div class="sidebar-tag-list"></div>
</div>
    </div>
</div> 
    <script>
    var jsInfo = {
        root: '/'
    }
</script>
    <!-- 不蒜子  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ统计  -->
    
    </div>
    </body>
</html>


